@using Newtonsoft.Json;

<head>
    <meta charset="UTF-8">
    <title>Parameters</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #dddddd;
            font-size: 30px;
            margin-bottom: 20px;
        }

        .formula-section {
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .formula-title {
            font-size: 20px;
            color: #dddddd;
            margin-bottom: 15px;
        }

        .formula {
            background-color: #333;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin-bottom: 10px;
            white-space: pre-wrap;
        }

        .parameters-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .parameter-group {
            background-color: #222;
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            min-width: 300px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .parameter-title {
            font-size: 18px;
            color: #dddddd;
            margin-bottom: 15px;
        }

        .parameter-item {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #dddddd;
        }

        select, input {
            width: 100%;
            padding: 8px;
            background-color: #333;
            color: white;
            border: 1px solid #444;
            border-radius: 5px;
        }

        .corrections-container {
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .correction-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background-color: #2a2a2a;
            border-radius: 5px;
        }

        .correction-label {
            color: #009F00;
            font-weight: bold;
            min-width: 100px;
        }

        .correction-input {
            flex-grow: 1;
            padding: 8px;
            background-color: #333;
            color: white;
            border: 1px solid #444;
            border-radius: 5px;
        }

        .btn-submit {
            background-color: #006400;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-top: 20px;
            display: block;
            width: 200px;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-submit:hover {
            background-color: #009F00;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Параметры и формулы</h1>
        
        <div class="formula-section">
            <div class="formula-title">Формулы расчета:</div>
            <div class="formula">
                Для турбин:
                УРТ% = ((Фактический УРТ - Нормативный УРТ) / Фактический УРТ) * 100
                
                Для котлов:
                КПД% = ((Фактический КПД - Нормативный КПД) / Фактический КПД) * 100
                
                Рейтинг станции:
                Рейтинг = (Σ(УРТ% * Расход тепла) * -1 + Σ(КПД% * Выработка тепла)) * 2 / Общий объем
            </div>
        </div>
        
        <div class="parameters-container">
            <div class="parameter-group">
                <div class="parameter-title">Тип оборудования</div>
                <div class="parameter-item">
                    <label for="equipmentType">Выберите тип:</label>
                    <select id="equipmentType" name="equipmentType">
                        <option value="turbine">Турбина</option>
                        <option value="boiler">Котёл</option>
                    </select>
                </div>
            </div>
            
            <div class="parameter-group">
                <div class="parameter-title">Станция</div>
                <div class="parameter-item">
                    <label for="station">Выберите станцию:</label>
                    <select id="station" name="station">
                        <option value="25">РГРЭС</option>
                        <option value="9">ТУГРЭС</option>
                        <option value="15">БГРЭС</option>
                        <option value="1">НГРЭС</option>
                        <option value="24">КГРЭС2</option>
                        <option value="26">ПГРЭС</option>
                    </select>
                </div>
            </div>
            
            <div class="parameter-group">
                <div class="parameter-title">Оборудование</div>
                <div class="parameter-item">
                    <label for="equipmentId">Выберите оборудование:</label>
                    <select id="equipmentId" name="equipmentId">
                        <!-- Опции будут заполнены динамически через JavaScript -->
                    </select>
                </div>
            </div>
        </div>
        
        <!-- Блок поправок для турбин (5 поправок) -->
        <div class="corrections-container" id="turbine-corrections">
            <div class="parameter-title">Поправки для турбин</div>
            <div class="correction-item">
                <span class="correction-label">Поправка 1:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="turbine-correction-1">
            </div>
            <div class="correction-item">
                <span class="correction-label">Поправка 2:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="turbine-correction-2">
            </div>
            <div class="correction-item">
                <span class="correction-label">Поправка 3:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="turbine-correction-3">
            </div>
            <div class="correction-item">
                <span class="correction-label">Поправка 4:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="turbine-correction-4">
            </div>
            <div class="correction-item">
                <span class="correction-label">Поправка 5:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="turbine-correction-5">
            </div>
        </div>
        
        <!-- Блок поправок для котлов (2 поправки) -->
        <div class="corrections-container" id="boiler-corrections" style="display: none;">
            <div class="parameter-title">Поправки для котлов</div>
            <div class="correction-item">
                <span class="correction-label">Поправка 1:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="boiler-correction-1">
            </div>
            <div class="correction-item">
                <span class="correction-label">Поправка 2:</span>
                <input type="number" class="correction-input" value="1" step="0.01" id="boiler-correction-2">
            </div>
        </div>

        <button class="btn-submit" id="save-parameters">Изменить параметры</button>
    </div>

    <script>
        // Динамическое заполнение списка оборудования в зависимости от выбранного типа
        const equipmentTypeSelect = document.getElementById('equipmentType');
        const stationSelect = document.getElementById('station');
        const equipmentIdSelect = document.getElementById('equipmentId');
        const turbineCorrections = document.getElementById('turbine-corrections');
        const boilerCorrections = document.getElementById('boiler-corrections');
        const saveButton = document.getElementById('save-parameters');
        
        // Данные по оборудованию для каждой станции
        const equipmentData = {
            turbine: {
                25: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
                9: ["1", "2", "3", "4", "5", "6", "7", "8", "9"],
                15: ["1", "2", "3", "4", "5", "6"],
                1: ["1", "2", "3", "4", "5", "6", "7"],
                24: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
                26: ["1", "2", "3", "4", "5", "6", "7", "8", "9"]
            },
            boiler: {
                25: ["01А", "01Б", "02А", "02Б", "03А", "03Б", "04А", "04Б", "05А", "05Б", "06А", "06Б", "07", "08", "09", "10"],
                9: ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13А", "13Б", "14А", "14Б"],
                15: ["01А", "01Б", "02А", "02Б", "03А", "03Б", "04А", "04Б", "05А", "05Б", "06А", "06Б"],
                1: ["01А", "01Б", "02А", "02Б", "03А", "03Б", "04А", "04Б", "05А", "05Б", "06А", "06Б", "07А", "07Б"],
                24: ["01А", "01Б", "02А", "02Б", "03А", "03Б", "04А", "04Б", "05А", "05Б", "06А", "06Б", "07А", "07Б", "08А", "08Б", "09А", "09Б", "10А", "10Б"],
                26: ["01А", "01Б", "02А", "02Б", "03А", "03Б", "04А", "04Б", "05", "06", "07", "08", "09"]
            }
        };
        
        // Обновление списка оборудования при изменении типа или станции
        function updateEquipmentList() {
            const type = equipmentTypeSelect.value;
            const station = stationSelect.value;
            
            // Очищаем текущие опции
            equipmentIdSelect.innerHTML = '';
            
            // Добавляем новые опции
            if (equipmentData[type] && equipmentData[type][station]) {
                equipmentData[type][station].forEach(id => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = (type === 'turbine' ? 'ТА' : 'КА') + id;
                    equipmentIdSelect.appendChild(option);
                });
            }
            
            // Показываем соответствующие поправки
            if (type === 'turbine') {
                turbineCorrections.style.display = 'block';
                boilerCorrections.style.display = 'none';
            } else {
                turbineCorrections.style.display = 'none';
                boilerCorrections.style.display = 'block';
            }
        }
        
        // Сохранение параметров
        function saveParameters() {
            const params = {
                equipmentType: equipmentTypeSelect.value,
                station: stationSelect.value,
                equipmentId: equipmentIdSelect.value,
                corrections: {}
            };
            
            if (params.equipmentType === 'turbine') {
                params.corrections = {
                    correction1: parseFloat(document.getElementById('turbine-correction-1').value),
                    correction2: parseFloat(document.getElementById('turbine-correction-2').value),
                    correction3: parseFloat(document.getElementById('turbine-correction-3').value),
                    correction4: parseFloat(document.getElementById('turbine-correction-4').value),
                    correction5: parseFloat(document.getElementById('turbine-correction-5').value)
                };
            } else {
                params.corrections = {
                    correction1: parseFloat(document.getElementById('boiler-correction-1').value),
                    correction2: parseFloat(document.getElementById('boiler-correction-2').value)
                };
            }
            
            // Сохраняем параметры в localStorage
            localStorage.setItem('equipmentParameters', JSON.stringify(params));
            
            // Перенаправляем на главную страницу
            window.location.href = '/Home/Index';
        }
        
        // Загрузка сохраненных параметров
        function loadSavedParameters() {
            const savedParams = localStorage.getItem('equipmentParameters');
            if (savedParams) {
                const params = JSON.parse(savedParams);
                
                equipmentTypeSelect.value = params.equipmentType;
                stationSelect.value = params.station;
                
                // Обновляем список оборудования
                updateEquipmentList();
                
                // После обновления DOM устанавливаем выбранное оборудование
                setTimeout(() => {
                    equipmentIdSelect.value = params.equipmentId;
                    
                    // Устанавливаем значения поправок
                    if (params.equipmentType === 'turbine') {
                        document.getElementById('turbine-correction-1').value = params.corrections.correction1;
                        document.getElementById('turbine-correction-2').value = params.corrections.correction2;
                        document.getElementById('turbine-correction-3').value = params.corrections.correction3;
                        document.getElementById('turbine-correction-4').value = params.corrections.correction4;
                        document.getElementById('turbine-correction-5').value = params.corrections.correction5;
                    } else {
                        document.getElementById('boiler-correction-1').value = params.corrections.correction1;
                        document.getElementById('boiler-correction-2').value = params.corrections.correction2;
                    }
                }, 0);
            }
        }
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', () => {
            updateEquipmentList();
            loadSavedParameters();
        });
        
        // Обработчики изменений
        equipmentTypeSelect.addEventListener('change', updateEquipmentList);
        stationSelect.addEventListener('change', updateEquipmentList);
        saveButton.addEventListener('click', saveParameters);
    </script>
</body>




@using Newtonsoft.Json;

<head>
    <meta charset="UTF-8">
    <title>Контактная информация</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #dddddd;
            font-size: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .contact-card {
            background-color: #222;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            background-color: #2a2a2a;
        }

        .contact-title {
            font-size: 20px;
            color: #009F00;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        .contact-info {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .contact-icon {
            margin-right: 10px;
            color: #006400;
            font-size: 18px;
            min-width: 20px;
            text-align: center;
        }

        .contact-text {
            color: #dddddd;
        }

        .contact-link {
            color: #dddddd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .contact-link:hover {
            color: #009F00;
            text-decoration: underline;
        }

        .map-container {
            margin-top: 40px;
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .map-title {
            font-size: 20px;
            color: #dddddd;
            margin-bottom: 15px;
            text-align: center;
        }

        iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 5px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .social-icon {
            color: #dddddd;
            font-size: 24px;
            transition: color 0.3s;
        }

        .social-icon:hover {
            color: #009F00;
        }

        .working-hours {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #333;
        }

        .hours-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .hours-item {
            display: flex;
            justify-content: space-between;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1>Контактная информация</h1>
        
        <div class="contact-grid">
            <div class="contact-card">
                <div class="contact-title">Центральный офис</div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <div class="contact-text">г. Москва, ул. Энергетиков, 15, корп. 2</div>
                </div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-phone"></i></div>
                    <a href="tel:+74951234567" class="contact-link">+7 (495) 123-45-67</a>
                </div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                    <a href="mailto:info@energy-company.ru" class="contact-link">info@energy-company.ru</a>
                </div>
                <div class="working-hours">
                    <div class="hours-title">Часы работы:</div>
                    <div class="hours-item">
                        <span>Пн-Пт:</span>
                        <span>9:00 - 18:00</span>
                    </div>
                    <div class="hours-item">
                        <span>Сб-Вс:</span>
                        <span>Выходной</span>
                    </div>
                </div>
            </div>
            
            <div class="contact-card">
                <div class="contact-title">Техническая поддержка</div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-phone"></i></div>
                    <a href="tel:+78001234567" class="contact-link">8 (800) 123-45-67</a>
                </div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                    <a href="mailto:support@energy-company.ru" class="contact-link">support@energy-company.ru</a>
                </div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-clock"></i></div>
                    <div class="contact-text">Круглосуточно, без выходных</div>
                </div>
                <div class="working-hours">
                    <div class="hours-title">Экстренные случаи:</div>
                    <div class="contact-info">
                        <div class="contact-icon"><i class="fas fa-phone-alt"></i></div>
                        <a href="tel:+74959876543" class="contact-link">+7 (495) 987-65-43</a>
                    </div>
                </div>
            </div>
            
            <div class="contact-card">
                <div class="contact-title">Отдел по работе с клиентами</div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-phone"></i></div>
                    <a href="tel:+74957654321" class="contact-link">+7 (495) 765-43-21</a>
                </div>
                <div class="contact-info">
                    <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                    <a href="mailto:clients@energy-company.ru" class="contact-link">clients@energy-company.ru</a>
                </div>
                <div class="working-hours">
                    <div class="hours-title">Часы работы:</div>
                    <div class="hours-item">
                        <span>Пн-Пт:</span>
                        <span>8:00 - 20:00</span>
                    </div>
                    <div class="hours-item">
                        <span>Сб:</span>
                        <span>10:00 - 16:00</span>
                    </div>
                    <div class="hours-item">
                        <span>Вс:</span>
                        <span>Выходной</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="map-container">
            <div class="map-title">Как нас найти</div>
            <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A1a2b3c4d5e6f7g8h9i0j&amp;source=constructor" frameborder="0"></iframe>
        </div>
        
        <div class="social-links">
            <a href="#" class="social-icon"><i class="fab fa-vk"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-telegram"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
        </div>
    </div>
</body>